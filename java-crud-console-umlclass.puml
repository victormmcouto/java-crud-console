@startuml
skinparam classAttributeIconSize 0
package model {
  package entities {
    class Product {
      - name : String
      - category : ProductCategory
      - price : Double
    }
    class Stock {
      + totalProductStockPrice() : Double
      + addNewProductItem(productItem : ProductItem) : void
      + removeProductItem(productId : Integer) : void
      + eraseStock() : void
      + stockIn(productId : Integer, quantity : Integer) : void
      + stockOut(productId : Integer, quantity : Integer) :  void
    }
    class ProductItem {
      - id : Integer
      - product : Product
      - quantity : Integer
      - timeModified : DateTime
    }
  }
  package services {
      class StockFileService {
      - filePath : String
      + loadData() : Stock
      + saveData(stock : Stock) : void
    }
  }
  package enums <<enums>> {
    enum ProductCategory {
      ROUPA
      ELETRONICO
      ESCRITORIO
      COMIDA
      BEBIDA
      HIGIENE_PESSOAL
      LIVRO
    }
  }
}

package application {
  package application.ui {
    class MenuHandler {
    - drawLine() : void
    + showMenu() : void
    }
  }
  package enums <<enums>> {
    enum MenuOptions {
      LISTAR
      CADASTRAR
      DELETAR
      ADICIONAR
      RETIRAR
      SAIR
    }
  }
  package services {
    class UserInputService {
      + getOption() : MenuOptions
      + getProduct() : Product
      + getProductItem() : ProductItem
      + getProductItemId() : Integer
    }
  }
}

ProductItem --> "\t1" Product
Stock "\t1" o-- "-productItems\n0..*" ProductItem
StockFileService ..> Stock
ProductItem ..> ProductCategory
UserInputService ..> MenuOptions
UserInputService ..> Product
UserInputService ..> ProductItem
@enduml
